<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
        <table class="table table-bordered">
                <thead>
                  <tr>
                    <th scope="col">state</th>
                    <th scope="col">capital</th>
                    <th scope="col">population</th>
                    <th scope="col">image</th>
                  </tr>
                </thead>
                <tbody id="stateNr">
                  
                </tbody>
              </table>


    <script>
  async function getStates(){
    let response = await fetch("http://192.168.8.137:3000/states");
    let data = await response.json();
    return data;
  }
  function allStates(){

   getStates().then(function(allstates){ 
   console.log(allstates)
   let output = "";
   allstates.forEach(function(item){
     output+= `
     <tr><td>${item.state}</td> 
     <td>${item.capital}</td> 
     <td>${item.population}</td> 
     <td><img src="${item.image}" alt=""></td>
     </tr>
     `;

   });
   document.getElementById("stateNr").innerHTML = output;
   });
  }
    
  allStates();
    </script>
</body>
</html>